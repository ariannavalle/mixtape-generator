(this["webpackJsonpmixtape-generator"]=this["webpackJsonpmixtape-generator"]||[]).push([[0],{37:function(e,t,a){e.exports=a(75)},42:function(e,t,a){},44:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),s=a.n(c),i=(a(42),a(43),a(1)),o=a(6),l=a(7),m=a(9),u=a(8),d=a(11),p=(a(44),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var e="The ultimate mixtape generator".split(""),t=document.getElementById("str");!function a(){var n=setTimeout(a,90);e.length>0?t.innerHTML+=e.shift():clearTimeout(n)}()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-body"},r.a.createElement("div",{id:"str"}),r.a.createElement("h2",null,"Discover new music and create curated playlists.",r.a.createElement("br",null),r.a.createElement(d.b,{to:"/generator"},r.a.createElement("div",{className:"box-2"},r.a.createElement("div",{className:"btn btn"},r.a.createElement("div",null,"START"))))))}}]),a}(n.Component)),v=a(15),h=a(13),f=a.n(h),E=a(17),g=a(18),y=a.n(g),b=a(36),k=a.n(b),N=(a(70),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={selectedSongs:[]},e.saveselectedSongs=function(t){e.setState({selectedSongs:[].concat(Object(v.a)(e.state.selectedSongs),[t])})},e.renderselectedSongs=function(){return r.a.createElement("div",{className:"chosen-items-container"},e.state.selectedSongs.map((function(e){return r.a.createElement("div",{key:e.id,className:"chosen-items"},r.a.createElement("img",{className:"album-image",src:e.album.images[0].url,alt:e.name}),r.a.createElement("div",null,e.name))})))},e.renderSearchResults=function(){var t=e.props,a=t.results,n=t.addToSeedList;if(Object.keys(a).length&&a.length)return r.a.createElement("div",{className:"results-container"},a.map((function(t){return r.a.createElement("div",{key:t.id,onClick:function(){n(t.id),e.saveselectedSongs(t)},className:"result-items"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-1"},r.a.createElement("img",{className:"image",src:t.album.images[0].url,alt:t.name})),r.a.createElement("div",{className:"column"},t.name)))})))},e}return Object(l.a)(a,[{key:"render",value:function(){}}]),a}(n.Component)),j=a(16),x=(a(71),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={currentlyPlaying:!1},e.playAudio=function(){var t=document.getElementById(e.props.id);e.state.currentlyPlaying?t.previousElementSibling.pause():t.previousElementSibling.play(),e.setState({currentlyPlaying:!e.state.currentlyPlaying})},e.renderIcons=function(){var t=e.props,a=t.audio,n=t.id,c=t.title,s=t.artist,i=t.addTrackToMixtape;return r.a.createElement("div",null,r.a.createElement("audio",{id:"my-audio"},r.a.createElement("source",{src:a,type:"audio/mpeg"}),"Your browser does not support the audio element."),a?e.state.currentlyPlaying?r.a.createElement(j.c,{className:"md-icon",id:n,onClick:e.playAudio}):r.a.createElement(j.d,{className:"md-icon",id:n,onClick:e.playAudio}):r.a.createElement("div",{className:"tooltip"},r.a.createElement(j.b,{className:"md-icon",style:{color:"#ccc"}}),r.a.createElement("div",{className:"top"},"Preview unavailable")),r.a.createElement(j.a,{className:"md-icon add",onClick:function(){return i({id:n,title:c,artist:s})}}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.albumCover,a=e.title,n=e.artist;return r.a.createElement("div",{className:"track"},r.a.createElement("div",{className:"album-art"},r.a.createElement("img",{src:t,className:"cover",alt:"album cover"})),r.a.createElement("div",{className:"track-layout"},r.a.createElement("div",{className:"track-info"},r.a.createElement("div",{className:"track-title"},a.length>30?a.substring(0,30)+"...":a),r.a.createElement("div",{className:"track-artist"},"by ",n)),this.renderIcons()))}}]),a}(n.Component)),O=(a(72),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={mixtapeTracks:e.props.mixtapeTracks},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.recommendations;return r.a.createElement("div",{id:"tracklist-container"},t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Tracklist")," ",r.a.createElement("span",null,"These are some recommended songs based on your search. Preview them and add your favorites to your mixtape.")),t.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(x,{albumCover:t.album.images[0].url,title:t.name,artist:t.artists[0].name,audio:t.preview_url,id:t.id,addTrackToMixtape:e.props.addTrackToMixtape}))})))}}]),a}(n.Component)),T=(a(73),a(74),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Mixtape"),r.a.createElement("span",null,"A list containing your favorite tracks"),r.a.createElement("div",{id:"mixtape"},r.a.createElement("div",{className:"mixtape-heading"},"Side A"),this.props.tracks.map((function(e,t){return r.a.createElement("div",{key:t,className:"mixtape-container"},r.a.createElement("div",{className:"mixtape-track"},r.a.createElement("div",null,e.title),r.a.createElement("div",null,e.artist)))}))))}}]),a}(n.Component)),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",results:{},trackIDs:[],recommendations:[],mixtapeTracks:[]},e.componentDidMount=Object(E.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},auth:{username:"cce66a7d82fc4ab1be7b51d2a07d689a",password:"bf5941c0c8684ff488ab8249a28b97c0"}},n={grant_type:"client_credentials"},t.next=4,y.a.post("https://accounts.spotify.com/api/token",k.a.stringify(n),a);case 4:e.tokenResponse=t.sent;case 5:case"end":return t.stop()}}),t)}))),e.onChange=function(t){var a=t.target.value;a?e.setState({query:a},(function(){e.getResults(a)})):e.setState({query:a,results:{}})},e.getResults=function(t){y.a.get("https://api.spotify.com/v1/search?query=".concat(e.state.query,"&type=track&limit=5"),{headers:{Authorization:"Bearer ".concat(e.tokenResponse.data.access_token)}}).then((function(t){e.setState({results:t.data.tracks.items})})).catch((function(e){console.log("Failed to get search results.")}))},e.getrecommendations=function(){y.a.get("https://api.spotify.com/v1/recommendations?seed_tracks=".concat(e.state.trackIDs),{headers:{Authorization:"Bearer ".concat(e.tokenResponse.data.access_token)}}).then((function(t){e.setState({recommendations:t.data.tracks})})).catch((function(e){console.log("Failed to get recommendations.")}))},e.addToSeedList=function(){var t=Object(E.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({trackIDs:[].concat(Object(v.a)(e.state.trackIDs),[a]),results:{}});case 2:e.getrecommendations();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addTrackToMixtape=function(){var t=Object(E.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({mixtapeTracks:[].concat(Object(v.a)(e.state.mixtapeTracks),[a])});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-tracklist-body"},r.a.createElement("div",null,r.a.createElement(d.b,{to:"/",className:"home-link"},r.a.createElement("i",{style:{color:"white"},className:"fa fa-home"})),r.a.createElement("br",null)),r.a.createElement("div",{className:"align-center"},r.a.createElement("div",{className:"search-tracklist-container"},r.a.createElement(N,{onChange:this.onChange,results:this.state.results,addToSeedList:this.addToSeedList}),r.a.createElement("div",{className:"tracklist-columns"},r.a.createElement(O,{recommendations:this.state.recommendations,addTrackToMixtape:this.addTrackToMixtape}),this.state.recommendations.length>=1&&r.a.createElement(T,{tracks:this.state.mixtapeTracks})))))}}]),a}(n.Component);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:p}),r.a.createElement(i.a,{exact:!0,path:"/generator",component:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(d.a,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.bccc55e9.chunk.js.map